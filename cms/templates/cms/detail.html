{% extends 'cms/base.html' %}
{% load static %}

{% block extra_js %}

  <!-- Madeleine -->
  <script src="{% static 'js/stats.js' %}"></script>
  <script src="{% static 'js/detector.js' %}"></script>
  <script src="{% static 'js/three.min.js' %}"></script>
  <script src="{% static 'js/Madeleine.js' %}"></script>

  <script>
    window.onload = function(){
        var madeleine = new Madeleine({
          target: 'stl_cont', // target div id
          data: "{% url 'save' upload.id %}", // data path
          path: "{% static 'js/' %}"  // path to source directory from current html file
        });
    };
  </script>
{% endblock %}

{% block content %}

  <div class="col-md-3 detail">
    <table class="table table-bordered table-striped">
      <tbody>
        <tr>
          <td>Name</td>
          <td>{{ upload.name }}</td>
        </tr>
        <tr>
          <td>Tags</td>
          <td>
            <ul>
              {% for tag in upload.tags.all %}
                <li><a href="{% url 'index' %}?q={{ tag }}">{{ tag }}</a></li>
              {% endfor %}
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <a class="btn btn-danger" href="{% url 'remove' upload.id %}">Remove</a>
    <a class="btn btn-primary" href="{% url 'update' upload.id %}">Update</a>
    <a class="btn btn-success" href="{% url 'save' upload.id %}">Download</a>
  </div>

  <div class="col-md-9">
    <div class="centre box" id="stl_cont"></div>
  </div>

{% endblock %}